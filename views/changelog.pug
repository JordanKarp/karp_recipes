

extends layout

block content
  h1 Update Log

  ul
    each change, index in all_changes
      if all_changes[index-1] == undefined || change.date !== all_changes[index-1].date
        li #{change.date}
      endif
      - const name = change.user?.username || "A user" 
      - const documentName = change.docName || `Unknown ${change.docType} name.`
      li(class='indent') #{change.time} - #{name} #{change.changeType} the #{change.docType}: #{documentName}

    else
      li There are no changes logged yet.